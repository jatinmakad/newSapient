"use strict";(self.webpackChunksap_data_management_microservice=self.webpackChunksap_data_management_microservice||[]).push([[807],{8038:function(e,n,t){var r=t(1889),a=t(9218),i=t(6151),o=(t(2791),t(184));n.Z=function(e){var n=e.setSearchInput,t=e.searchInput,c=e.children,s=e.Func;return(0,o.jsxs)(r.ZP,{lg:12,container:!0,justifyContent:"space-between",spacing:2,mb:2,children:[(0,o.jsx)(r.ZP,{item:!0,lg:6,md:6,xs:12,sm:12,children:(0,o.jsx)(a.Z,{variant:"standard",fullWidth:!0,placeholder:"Search Ref no. / Insurer / City",value:t,onChange:function(e){return n(e.target.value)},sx:{background:"#fff",padding:"7px 10px",border:"1px solid lightgray",borderRadius:"5px"},size:"small",InputProps:{disableUnderline:!0}})}),(0,o.jsxs)(r.ZP,{item:!0,lg:3,md:3,xs:6,sm:6,children:[(0,o.jsx)(i.Z,{variant:"contained",color:"primary",onClick:function(){return s("search")},size:"large",sx:{marginRight:"5px"},children:"Search"}),(0,o.jsx)(i.Z,{variant:"contained",color:"success",onClick:function(){return s("reset")},size:"large",children:"Reset"})]}),c]})}},8434:function(e,n,t){t.d(n,{Z:function(){return m}});var r=t(4942),a=(t(2791),t(8900)),i=t(9836),o=t(8745),c=t(618),s=t(9281),u=t(8582),l=t(4515),d=t(5855),p=t(703),h=t(6890),f=t(184);function m(e){var n=e.headerCell,t=e.page,r=e.setPage,a=e.rowsPerPage,o=(e.setRowsPerPage,e.data),c=e.children;return(0,f.jsx)(s.Z,{component:p.Z,children:(0,f.jsxs)(i.Z,{sx:{minWidth:650},"aria-label":"custom pagination table",children:[(0,f.jsx)(h.Z,{children:(0,f.jsx)(d.Z,{children:n.map((function(e){return(0,f.jsx)(g,{align:e.align,children:e.value})}))})}),c,(0,f.jsx)(u.Z,{children:(0,f.jsx)(d.Z,{children:(0,f.jsx)(l.Z,{rowsPerPageOptions:"",colSpan:9,count:o,rowsPerPage:a,page:t,onPageChange:function(e,n){r(n)}})})})]})})}var g=(0,a.ZP)(o.Z)((function(e){var n;e.theme;return n={},(0,r.Z)(n,"&.".concat(c.Z.head),{backgroundColor:"#03C9D7",color:"white"}),(0,r.Z)(n,"&.".concat(c.Z.body),{fontSize:14}),n}))},5807:function(e,n,t){t.r(n);var r=t(4942),a=t(4165),i=t(1413),o=t(5861),c=t(885),s=t(2791),u=t(6030),l=t(2756),d=t(3896),p=t(6871),h=t(3504),f=t(8038),m=t(3382),g=t(8745),v=t(618),Z=t(5855),x=t(8900),y=t(4245),b=t(2426),j=t.n(b),w=t(5574),S=t(7123),P=t(9157),C=t(5661),M=t(5193),k=t(3967),I=t(6151),N=t(7496),R=t(8434),W=t(959),B=t(4569),T=t.n(B),D=t(5494),_=(t(768),t(184));n.default=function(){var e=(0,u.I0)(),n=(0,p.s0)(),t=s.useState(!1),r=(0,c.Z)(t,2),g=r[0],v=r[1],x=(0,u.v9)((function(e){return e.Login})),b=x.isAuth,w=x.admin,S=(0,u.v9)((function(e){return e.Entry.get})),P=S.entry,C=S.isLoading,M=(0,u.v9)((function(e){return e.Report.assignTask})).updateAssignTaskSuccess,k=s.useState(""),I=(0,c.Z)(k,2),W=I[0],B=I[1],O=s.useState(0),q=(0,c.Z)(O,2),A=q[0],E=q[1],U=s.useState(10),F=(0,c.Z)(U,2),H=F[0],Q=F[1];(0,s.useEffect)((function(){if(b||A||M){var t=Number("".concat(A,"0"));e((0,l.lI)(t,"",W,w.user._id))}b||n("/login"),M&&v(!1)}),[b,M,A]);var Y=(0,s.useState)(""),$=(0,c.Z)(Y,2),G=$[0],K=$[1],V=s.useState(""),X=(0,c.Z)(V,2),ee=X[0],ne=X[1],te=function(){var e=(0,o.Z)((0,a.Z)().mark((function e(n){var t,r,o,c;return(0,a.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ne(n),e.next=3,T().get("https://sap-data-management-mcs.herokuapp.com/get-jobs-by-id?uniqueJobId=".concat(ee.uniqueJobId));case 3:t=e.sent,!0===(r=t.data).success&&(o="Engineering"===n.claimType?D.se:"Fire"===n.claimType?D.O$:"Marine"===n.claimType?D.Y8:"",v(!0),c=o.map((function(e){var n=r.data[0].documents.find((function(n){return n.name===e.name}));return n?(0,i.Z)((0,i.Z)((0,i.Z)({},e),n),{},{uploaded:!0}):e})),K(c));case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();return b&&P.data?(0,_.jsxs)("div",{className:"m-2 md:m-10 mt-4 p-2 md:p-5 rounded-3xl",children:[(0,_.jsx)(N.Z,{title:"Survey"}),(0,_.jsx)(f.Z,{searchInput:W,setSearchInput:B,Func:function(n){if("reset"==n&&""!==W){B("");var t=Number("".concat(A,"0"));e((0,l.lI)(t,"","",w.user._id))}else if("search"==n&&""!==W){var r=Number("".concat(A,"0"));e((0,l.lI)(r,"",W,w.user._id))}}}),C?(0,_.jsx)(y.Z,{}):P.data&&!P.data.length?(0,_.jsx)("div",{className:"w-full flex justify-center items-center",children:(0,_.jsx)("img",{src:d,className:"w-1/2"})}):(0,_.jsxs)(R.Z,{headerCell:z,data:P.total,page:A,setPage:E,rowsPerPage:H,setRowsPerPage:Q,children:[(0,_.jsx)(m.Z,{children:(P.data&&P.data).map((function(e,n){return(0,_.jsxs)(Z.Z,{sx:{border:"none"},children:[(0,_.jsx)(J,{component:"th",scope:"row",children:n+1}),(0,_.jsx)(J,{align:"left",children:e.reportRefrenceNo}),(0,_.jsx)(J,{align:"left",children:e.insurerCity}),(0,_.jsx)(J,{align:"left",children:j()(e.date).format("L")}),(0,_.jsx)(J,{align:"left",children:e.insured}),(0,_.jsx)(J,{align:"left",children:(0,_.jsx)("p",{className:"text-blue-700 cursor-pointer",onClick:function(){return te(e)},children:"Mark Done"})}),(0,_.jsx)(J,{align:"left",style:{display:"flex",alignItems:"center"},children:(0,_.jsx)(h.rU,{to:"/upload-document/".concat(e.uniqueJobId,"/").concat(e.claimType),children:(0,_.jsx)("p",{className:"text-blue-700 cursor-pointer",children:"Upload Document"})})})]})}))}),(0,_.jsx)(L,{open:g,setOpen:v,selectData:ee,admin:w,dispatch:e,updatedData:G})]})]}):null};var L=function(e){var n=e.open,t=e.dispatch,r=e.setOpen,a=e.selectData,i=e.admin,o=(e.updatedData,(0,k.Z)()),c=(0,M.Z)(o.breakpoints.down("md")),s=function(){r(!1)};return(0,_.jsxs)(w.Z,{fullScreen:c,open:n,fullWidth:!0,size:"lg",onClose:s,"aria-labelledby":"responsive-dialog-title",children:[(0,_.jsx)(C.Z,{id:"responsive-dialog-title",children:"Mark Done"}),(0,_.jsx)(P.Z,{}),(0,_.jsxs)(S.Z,{children:[(0,_.jsx)(I.Z,{variant:"contained",onClick:function(){var e={userId:i.user._id,uniqueJobId:a.uniqueJobId,currentJobHolder:a.coordinationHandledBy};t((0,W.eO)(e))},color:"info",children:"Submit"}),(0,_.jsx)(I.Z,{variant:"contained",onClick:s,color:"error",children:"Cancel"})]})]})},J=(0,x.ZP)(g.Z)((function(e){var n,t=e.theme;return n={},(0,r.Z)(n,"&.".concat(v.Z.head),{backgroundColor:t.palette.common.black,color:t.palette.common.white}),(0,r.Z)(n,"&.".concat(v.Z.body),{fontSize:14,color:"black",fontWeight:"500"}),n})),z=[{value:"Sr no.",align:"left"},{value:"Reference No.",align:"left"},{value:"City",align:"left"},{value:"Date",align:"left"},{value:"Insurer",align:"left"},{value:"Status",align:"left"},{value:"Action",align:"left"}]},5661:function(e,n,t){var r=t(7462),a=t(3366),i=t(2791),o=t(8182),c=t(4419),s=t(890),u=t(8900),l=t(3736),d=t(7673),p=t(5090),h=t(184),f=["className","id"],m=(0,u.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,n){return n.root}})({padding:"16px 24px",flex:"0 0 auto"}),g=i.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiDialogTitle"}),s=t.className,u=t.id,g=(0,a.Z)(t,f),v=t,Z=function(e){var n=e.classes;return(0,c.Z)({root:["root"]},d.a,n)}(v),x=i.useContext(p.Z).titleId,y=void 0===x?u:x;return(0,h.jsx)(m,(0,r.Z)({component:"h2",className:(0,o.Z)(Z.root,s),ownerState:v,ref:n,variant:"h6",id:y},g))}));n.Z=g},890:function(e,n,t){t.d(n,{Z:function(){return x}});var r=t(3366),a=t(7462),i=t(2791),o=t(8182),c=t(8519),s=t(4419),u=t(8900),l=t(3736),d=t(4036),p=t(1217);function h(e){return(0,p.Z)("MuiTypography",e)}(0,t(5878).Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var f=t(184),m=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],g=(0,u.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,n){var t=e.ownerState;return[n.root,t.variant&&n[t.variant],"inherit"!==t.align&&n["align".concat((0,d.Z)(t.align))],t.noWrap&&n.noWrap,t.gutterBottom&&n.gutterBottom,t.paragraph&&n.paragraph]}})((function(e){var n=e.theme,t=e.ownerState;return(0,a.Z)({margin:0},t.variant&&n.typography[t.variant],"inherit"!==t.align&&{textAlign:t.align},t.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t.gutterBottom&&{marginBottom:"0.35em"},t.paragraph&&{marginBottom:16})})),v={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},Z={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},x=i.forwardRef((function(e,n){var t=(0,l.Z)({props:e,name:"MuiTypography"}),i=function(e){return Z[e]||e}(t.color),u=(0,c.Z)((0,a.Z)({},t,{color:i})),p=u.align,x=void 0===p?"inherit":p,y=u.className,b=u.component,j=u.gutterBottom,w=void 0!==j&&j,S=u.noWrap,P=void 0!==S&&S,C=u.paragraph,M=void 0!==C&&C,k=u.variant,I=void 0===k?"body1":k,N=u.variantMapping,R=void 0===N?v:N,W=(0,r.Z)(u,m),B=(0,a.Z)({},u,{align:x,color:i,className:y,component:b,gutterBottom:w,noWrap:P,paragraph:M,variant:I,variantMapping:R}),T=b||(M?"p":R[I]||v[I])||"span",D=function(e){var n=e.align,t=e.gutterBottom,r=e.noWrap,a=e.paragraph,i=e.variant,o=e.classes,c={root:["root",i,"inherit"!==e.align&&"align".concat((0,d.Z)(n)),t&&"gutterBottom",r&&"noWrap",a&&"paragraph"]};return(0,s.Z)(c,h,o)}(B);return(0,f.jsx)(g,(0,a.Z)({as:T,ref:n,ownerState:B,className:(0,o.Z)(D.root,y)},W))}))},5193:function(e,n,t){var r;t.d(n,{Z:function(){return p}});var a=t(885),i=t(2791),o=t(7301),c=t(3073),s=t(162);function u(e,n,t,r,o){var c="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,u=i.useState((function(){return o&&c?t(e).matches:r?r(e).matches:n})),l=(0,a.Z)(u,2),d=l[0],p=l[1];return(0,s.Z)((function(){var n=!0;if(c){var r=t(e),a=function(){n&&p(r.matches)};return a(),r.addListener(a),function(){n=!1,r.removeListener(a)}}}),[e,t,c]),d}var l=(r||(r=t.t(i,2))).useSyncExternalStore;function d(e,n,t,r){var o=i.useCallback((function(){return n}),[n]),c=i.useMemo((function(){if(null!==r){var n=r(e).matches;return function(){return n}}return o}),[o,e,r]),s=i.useMemo((function(){if(null===t)return[o,function(){return function(){}}];var n=t(e);return[function(){return n.matches},function(e){return n.addListener(e),function(){n.removeListener(e)}}]}),[o,t,e]),u=(0,a.Z)(s,2),d=u[0],p=u[1];return l(p,d,c)}function p(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=(0,o.Z)(),r="undefined"!==typeof window&&"undefined"!==typeof window.matchMedia,a=(0,c.Z)({name:"MuiUseMediaQuery",props:n,theme:t}),i=a.defaultMatches,s=void 0!==i&&i,p=a.matchMedia,h=void 0===p?r?window.matchMedia:null:p,f=a.ssrMatchMedia,m=void 0===f?null:f,g=a.noSsr;var v="function"===typeof e?e(t):e;v=v.replace(/^@media( ?)/m,"");var Z=void 0!==l?d:u,x=Z(v,s,h,m,g);return x}},3896:function(e,n,t){e.exports=t.p+"static/media/noresult.b17cd1d18137e03fac72.webp"}}]);
//# sourceMappingURL=807.47b86995.chunk.js.map